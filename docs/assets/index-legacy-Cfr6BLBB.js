System.register(["./inline-px-to-vw-legacy-BSaTvkTd.js","./index-legacy-CRxMwR9l.js","./index-legacy-VGMJHqio.js","./index-legacy-4YolEGSh.js","./route-block-legacy-wdPIt6g0.js"],(function(e,r){"use strict";var s,l,a,o,d,i,t,n,m,u,c,g,p,f,w,v,y,h,V,k,x,b,P;return{setters:[e=>{s=e.F,l=e._,a=e.v,o=e.a},e=>{d=e.d,i=e.u,t=e.g,n=e.R,m=e.k,u=e.T,c=e.c,g=e.a,p=e.f,f=e.h,w=e.w,v=e.e,y=e.U,h=e.$,V=e.i,k=e.l,x=e.t},null,e=>{b=e.B},e=>{P=e.b}],execute:function(){const r={class:"m-x-a w-7xl text-center"},E={class:"overflow-hidden rounded-3xl"},_={class:"mt-16 overflow-hidden rounded-3xl"},C={class:"mt-16 overflow-hidden rounded-3xl"},j={class:"mt-16 overflow-hidden rounded-3xl"},q={class:"mt-16 overflow-hidden rounded-3xl"},M={class:"mt-16"},U=e("default",d({__name:"index",setup(e){const{t:d}=i(),P=t(),U=n(),S=m(!1),$=u({email:"",code:"",nickname:"",password:"",confirmPassword:""}),N=u({email:[{required:!0,message:d("register.pleaseEnterEmail")}],code:[{required:!0,message:d("register.pleaseEnterCode")}],nickname:[{required:!0,message:d("register.pleaseEnterNickname")}],password:[{required:!0,message:d("register.pleaseEnterPassword")}],confirmPassword:[{required:!0,message:d("register.pleaseEnterConfirmPassword")},{required:!0,validator:e=>e===$.password,message:d("register.passwordsDoNotMatch")}]});async function T(){try{S.value=!0,0===(await U.register()).code&&(h({type:"success",message:d("register.registerSuccess")}),P.push({name:"login"}))}finally{S.value=!1}}const z=m(!1),B=c((()=>z.value?d("register.gettingCode"):d("register.getCode")));async function D(){if(!$.email)return void h({type:"warning",message:d("register.pleaseEnterEmail")});z.value=!0;const e=await U.getCode();0===e.code&&h({type:"success",message:`${d("register.sendCodeSuccess")}: ${e.result}`}),z.value=!1}return(e,i)=>{const t=o,n=b,m=s,u=l;return g(),p("div",r,[f(m,{model:v($),rules:v(N),"validate-trigger":"onSubmit",onSubmit:T},{default:w((()=>[V("div",E,[f(t,{modelValue:v($).email,"onUpdate:modelValue":i[0]||(i[0]=e=>v($).email=e),modelModifiers:{trim:!0},rules:v(N).email,name:"email",placeholder:v(d)("register.email")},null,8,["modelValue","rules","placeholder"])]),V("div",_,[f(t,{modelValue:v($).code,"onUpdate:modelValue":i[1]||(i[1]=e=>v($).code=e),modelModifiers:{trim:!0},rules:v(N).code,name:"code",placeholder:v(d)("register.code")},{button:w((()=>[f(n,{size:"small",type:"primary",plain:"",onClick:D},{default:w((()=>[k(x(v(B)),1)])),_:1})])),_:1},8,["modelValue","rules","placeholder"])]),V("div",C,[f(t,{modelValue:v($).nickname,"onUpdate:modelValue":i[2]||(i[2]=e=>v($).nickname=e),modelModifiers:{trim:!0},rules:v(N).nickname,name:"nickname",placeholder:v(d)("register.nickname")},null,8,["modelValue","rules","placeholder"])]),V("div",j,[f(t,{modelValue:v($).password,"onUpdate:modelValue":i[3]||(i[3]=e=>v($).password=e),modelModifiers:{trim:!0},type:"password",rules:v(N).password,name:"password",placeholder:v(d)("register.password")},null,8,["modelValue","rules","placeholder"])]),V("div",q,[f(t,{modelValue:v($).confirmPassword,"onUpdate:modelValue":i[4]||(i[4]=e=>v($).confirmPassword=e),modelModifiers:{trim:!0},type:"password",rules:v(N).confirmPassword,name:"confirmPassword",placeholder:v(d)("register.comfirmPassword")},null,8,["modelValue","rules","placeholder"])]),V("div",M,[f(n,{loading:v(S),type:"primary","native-type":"submit",round:"",block:""},{default:w((()=>[k(x(e.$t("register.confirm")),1)])),_:1},8,["loading"])])])),_:1},8,["model","rules"]),f(u,{to:"login",block:"",style:y({"margin-top":v(a)(8)})},{default:w((()=>[k(x(e.$t("register.backToLogin")),1)])),_:1},8,["style"])])}}}));"function"==typeof P&&P(U)}}}));
